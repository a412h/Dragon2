##
#
# ONERA OAT15a airfoil test case
#
# Free-stream: Air at sea level, Mach 0.73, 3.5° angle of attack
# Chord: c = 0.2300m
# Reynolds: ~3×10^6
#
# References:
# [1] S. Deck, N. Renard. Towards an enhanced protection of attached
#     boundary layers in hybrid RANS/LES methods. J. Comput. Phys. 400:108970, 2020.
# [2] L. Jacquin et al. Experimental Study of Shock Oscillation over a
#     Transonic Supercritical Profile. AIAA J. 47:1985-1994, 2009.
#
# Remark: the mesh is already computed, use file in directory meshes
##

subsection A - TimeLoop
	set basename           = oat15a-2d
	set final time         = 0.2200
	#set timer granularity  = 0.0001
	set timer granularity  = 0.001
end


subsection B - Equation
	set dimension = 2
	#set equation  = navier_stokes

	# Air at sea level
	set gamma  = 1.401
	set mu     = 1.789e-5    # Dynamic viscosity [Pa·s]
	set lambda = 0           # Bulk viscosity
	set kappa  = 3.616e-5    # Scaled thermal conductivity c_v^{-1} kappa
end


subsection C - Discretization
	#set geometry        = airfoil
	set mesh refinement = 5

	#subsection airfoil
		#set airfoil type                        = ONERA OAT15a
		#set airfoil center                      = -0.0613, 0.
		#set airfoil length                      =  0.2300
		#set psi center                          =  0.03, 0.
		#set psi ratio                           =  3.00
		#set height                              =  1.0
		#set width                               =  0.046
		#set grading exponent                    =  6.0000
		#set grading epsilon                     =  0.0005
		#set grading epsilon trailing            =  0.0100
		#set anisotropic pre refinement airfoil  =  1
		#set anisotropic pre refinement trailing =  3
		#set subdivisions z                      =  9
	#end
end


subsection E - InitialValues
	# 3.5° d'angle d'attaque: cos(3.5°) = 0.99813, sin(3.5°) = 0.061049
	set direction = 0.99813, 0.061049

	subsection uniform
		# rho, v, p
		set primitive state = 1.225, 248.42, 1.013e5
	end
end


subsection H - TimeIntegrator
	set cfl min = 3.9
	set cfl max = 3.9
	#set time stepping scheme  = strang erk 33 cn
	#set time stepping scheme  = strang ssprk 33 33 cn
end
